"use strict";
self["webpackHotUpdateroom187"]("main",{

/***/ "./app/pages/Gallery/index.js":
/*!************************************!*\
  !*** ./app/pages/Gallery/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Gallery)
/* harmony export */ });
/* harmony import */ var classes_Page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classes/Page */ "./app/classes/Page.js");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var utils_LenisScroll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/LenisScroll */ "./app/utils/LenisScroll.js");
/* harmony import */ var gsap_CustomEase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gsap/CustomEase */ "./node_modules/gsap/CustomEase.js");




class Gallery extends classes_Page__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor() {
    super({
      id: 'gallery',
      elements: {
        gallery: '[data-gallery]',
        galleryItems: '[data-gallery-item]',
        slideShow: '[data-slideshow]',
        prev: '[data-slideshow-prev]',
        next: '[data-slideshow-next]',
        close: '[data-slideshow] [data-close]',
        slideShowContainer: '[data-slideshow-container]',
        slideShowCounter: '[data-slideshow-index]',
        miniMap: '[data-mini-map]',
        miniMapItems: '[data-mini-map-item]',
        miniMapIndicator: '[data-mini-map-indicator]'
      }
    });
    gsap__WEBPACK_IMPORTED_MODULE_2__["default"].registerPlugin(gsap_CustomEase__WEBPACK_IMPORTED_MODULE_3__.CustomEase);
    gsap_CustomEase__WEBPACK_IMPORTED_MODULE_3__.CustomEase.create("zoom", "0.71, 0, 0.06, 1");
    this.tl = gsap__WEBPACK_IMPORTED_MODULE_2__["default"].timeline();
    this.currentIndex = 0;
    this.media = [];
    this.scroll = utils_LenisScroll__WEBPACK_IMPORTED_MODULE_1__.scroll;
    this.hasMediaBeenSet = false;
    this.allowSlideNavigation = false;
    this.init();
  }
  openSlideShow(e) {
    const mediaElement = e.target;
    const mediaId = mediaElement.dataset.galleryId;
    this.currentIndex = this.media.findIndex(media => media.dataset.galleryId === mediaId);
    this.displayIndex();
    this.scroll.stop();
    this.tl.clear();
    this.updateMinimapIndicator(mediaId, true);
    this.tl.to(this.elements.galleryItems, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)",
      duration: 0.4,
      ease: "zoom"
    });
    this.tl.to(this.elements.slideShow, {
      clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
      duration: 0.6,
      ease: "zoom",
      onComplete: () => {
        this.elements.slideShow.classList.remove('cannot-interact');
        this.showMedia();
        this.enableSlideNavigation();
      }
    }, '-=0.2');
    this.tl.to(this.elements.close, {
      opacity: 1,
      duration: 0.3,
      ease: "power2.out"
    });
    this.tl.to(this.elements.prev, {
      opacity: 1,
      duration: 0.3,
      ease: "power2.out"
    }, 'controls');
    this.tl.to(this.elements.next, {
      opacity: 1,
      duration: 0.3,
      ease: "power2.out"
    }, 'controls');
  }
  closeSlideShow() {
    this.disableSlideNavigation();
    let slideShowMedia = document.querySelector('.slideshow-media__item');
    this.elements.slideShow.classList.add('cannot-interact');
    this.tl.to(this.elements.slideShow, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)",
      duration: 0.6,
      ease: "zoom",
      onComplete: () => {
        slideShowMedia.remove();
        this.hasMediaBeenSet = false;
        this.scroll.start();
        this.animateImages(false, true);
      }
    });
    this.tl.to(this.elements.close, {
      opacity: 0,
      duration: 0.001
    }, 'hide');
    this.tl.to(this.elements.prev, {
      opacity: 0,
      duration: 0.001
    }, 'hide');
    this.tl.to(this.elements.next, {
      opacity: 0,
      duration: 0.001
    }, 'hide');

    // Remove image parameter from URL
    const newUrl = new URL(window.location);
    newUrl.searchParams.delete("media");
    window.history.pushState({}, "", newUrl);
  }
  goToMedia(index) {
    if (index < 0 || index >= this.media.length || index === this.currentIndex) return;
    this.currentIndex = index;
    this.displayIndex();
    if (this.tl.isActive()) {
      this.tl.add(() => {
        this.showMedia();
      });
    } else {
      this.showMedia();
    }
  }
  changeMedia(direction) {
    const oldIndex = this.currentIndex;
    this.currentIndex = (this.currentIndex + direction + this.media.length) % this.media.length;
    this.displayIndex();
    if (oldIndex === this.currentIndex) return;
    if (this.tl.isActive()) {
      this.tl.add(() => {
        this.showMedia();
      });
    } else {
      this.showMedia();
    }
  }
  showMedia() {
    const mediaCurrentElem = this.media[this.currentIndex];
    const mediaType = mediaCurrentElem.dataset.galleryItem;
    const mediaId = mediaCurrentElem.dataset.galleryId;
    this.updateMinimapIndicator(mediaId);

    // If the same media, don't do anything
    if (this.elements.slideShowContainer.querySelector(`[data-slideshow-id="${mediaId}"]`)) {
      return;
    }
    if (!this.hasMediaBeenSet) {
      this.createAndSetMediaElement(mediaCurrentElem, mediaType);
      this.hasMediaBeenSet = true;
    } else {
      this.swapMediaElement(mediaCurrentElem, mediaType);
    }

    // Update the URL with the new image ID
    const newUrl = new URL(window.location);
    newUrl.searchParams.set("media", mediaId);
    window.history.pushState({}, "", newUrl);
  }
  createAndSetMediaElement(mediaElem, mediaType) {
    const newElem = this.createNewMediaItem(mediaType);
    this.setMediaAttributes(newElem, mediaElem, mediaType);
    this.elements.slideShowContainer.innerHTML = ''; // Clear previous elements
    this.elements.slideShowContainer.appendChild(newElem);
    gsap__WEBPACK_IMPORTED_MODULE_2__["default"].fromTo(newElem, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"
    }, {
      clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
      duration: 0.6,
      ease: "power2.out"
    });
  }
  displayIndex() {
    this.elements.slideShowCounter.innerHTML = String(this.currentIndex + 1).padStart(2, '0');
  }
  swapMediaElement(mediaElem, mediaType) {
    const oldElem = this.elements.slideShowContainer.firstChild;
    const newElem = this.createNewMediaItem(mediaType);
    this.setMediaAttributes(newElem, mediaElem, mediaType);
    this.elements.slideShowContainer.appendChild(newElem);
    this.tl.fromTo(newElem, {
      opacity: 0
    }, {
      opacity: 1,
      duration: 0.4,
      ease: "power2.out"
    });
    this.tl.to(oldElem, {
      opacity: 0,
      duration: 0.4,
      ease: "power2.out",
      onComplete: () => {
        oldElem.remove();
      }
    }, "-=0.2");
  }
  setupScrollNavigation() {
    let ticking = false;
    window.addEventListener('wheel', e => {
      if (!this.allowSlideNavigation || ticking) return;
      ticking = true;
      const direction = e.deltaY > 0 ? 1 : -1;
      this.changeMedia(direction);
      setTimeout(() => {
        ticking = false;
      }, 600); // delay to prevent overscroll
    });
  }
  setupSwipeNavigation() {
    if (!this.elements.slideShowContainer) return;
    let touchStartX = 0;
    let touchEndX = 0;
    const threshold = 50; // Minimum swipe distance

    const container = this.elements.slideShowContainer;
    container.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    });
    container.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });
    const handleSwipe = () => {
      if (!this.allowSlideNavigation) return;
      const delta = touchStartX - touchEndX;
      if (Math.abs(delta) > threshold) {
        const direction = delta > 0 ? 1 : -1;
        this.changeMedia(direction);
      }
    };
  }
  disableSlideNavigation() {
    this.allowSlideNavigation = false;
  }
  enableSlideNavigation() {
    this.allowSlideNavigation = true;
  }
  createNewMediaItem(type) {
    const elem = type === "video" ? document.createElement('video') : document.createElement('img');
    elem.classList.add('slideshow-media__item');
    return elem;
  }
  setMediaAttributes(elem, mediaElem, mediaType) {
    const mediaId = mediaElem.dataset.galleryId;
    const posterImg = mediaElem.src;
    elem.setAttribute('data-slideshow-id', mediaId);
    if (mediaType === "video") {
      elem.setAttribute('autoplay', '');
      elem.setAttribute('loop', '');
      elem.setAttribute('playsinline', '');
      elem.setAttribute('controls', '');
      elem.setAttribute('poster', posterImg);
      const source = document.createElement('source');
      source.src = mediaElem.dataset.gallerySrc;
      source.type = "video/mp4";
      elem.appendChild(source);
    } else {
      elem.src = mediaElem.dataset.gallerySrc;
      elem.alt = mediaElem.alt || "Gallery Image";
    }
  }
  updateMinimapIndicator(mediaId = this.media[this.currentIndex]?.dataset.galleryId, instant = false) {
    if (!mediaId) return;
    let miniMapRect = this.elements.miniMap.getBoundingClientRect();
    this.elements.miniMapItems.forEach((item, i) => {
      if (item.dataset.galleryId === mediaId) {
        let itemRect = item.getBoundingClientRect();
        const targetX = -item.offsetLeft;
        const indicatorXpos = itemRect.left - miniMapRect.left;
        if (instant) {
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].set(this.elements.miniMapIndicator, {
            x: indicatorXpos
          });
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].set(this.elements.miniMap, {
            x: targetX
          });
        } else {
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.miniMapIndicator, {
            x: indicatorXpos,
            duration: 0.4,
            ease: "zoom"
          });
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.miniMap, {
            x: targetX,
            duration: 0.4,
            ease: "power3.out"
          });
        }
      }
    });
  }

  // Check URL on Page Load & Open Slideshow if Needed
  checkURLForSlideShow() {
    window.addEventListener("DOMContentLoaded", () => {
      const urlParams = new URLSearchParams(window.location.search);
      const mediaId = urlParams.get("media");
      if (mediaId) {
        const mediaElement = document.querySelector(`[data-gallery-id="${mediaId}"]`);
        if (mediaElement) this.openSlideShow({
          target: mediaElement
        });
      }
    });
  }
  animateImages(useStrollTrigger, show = true) {
    let clipPathPoly = show ? "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)" : "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)";
    if (useStrollTrigger) {
      gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.galleryItems, {
        clipPath: clipPathPoly,
        duration: 0.6,
        scrollTrigger: {
          trigger: this.elements.galleryItems,
          start: 'top bottom',
          scrub: false,
          markers: false
        },
        ease: "zoom"
      });
    } else {
      gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.galleryItems, {
        clipPath: clipPathPoly,
        duration: 0.6,
        ease: "zoom"
      });
    }
  }
  animateAssets(tl, resolve) {
    super.animateAssets(tl, () => {
      this.animateImages(true);
      resolve();
    });
  }
  handleResize = () => {
    this.updateMinimapIndicator();
  };
  handleKeyDown = e => {
    // Only proceed if slideshow is open
    if (!this.elements.slideShow || this.elements.slideShow.classList.contains('cannot-interact')) return;
    if (e.key === 'ArrowRight') {
      this.changeMedia(1);
    } else if (e.key === 'ArrowLeft') {
      this.changeMedia(-1);
    }
  };

  // Debounce helper (avoids spamming during resize)
  debounce(fn, delay = 100) {
    let timeout;
    return () => {
      clearTimeout(timeout);
      timeout = setTimeout(fn, delay);
    };
  }
  addEventListeners() {
    if (!this.elements.galleryItems || !this.elements.close) return;
    gsap__WEBPACK_IMPORTED_MODULE_2__["default"].set(this.elements.galleryItems, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"
    });
    if (Array.isArray(this.elements.galleryItems) || typeof this.elements.galleryItems === 'object') {
      this.media = Array.from(this.elements.galleryItems);
      this.elements.galleryItems.forEach(element => {
        element.addEventListener('click', e => {
          this.openSlideShow(e);
        });
      });
    } else {
      this.elements.galleryItems.addEventListener('click', e => {
        this.openSlideShow(e);
      });
    }
    if (this.elements.prev) {
      this.elements.prev.addEventListener('click', () => {
        this.changeMedia(-1);
      });
    }
    if (this.elements.next) {
      this.elements.next.addEventListener('click', () => {
        this.changeMedia(1);
      });
    }
    this.elements.close.addEventListener('click', () => {
      this.closeSlideShow();
    });
    document.addEventListener('keydown', this.handleKeyDown);
    if (this.elements.miniMapItems) {
      this.elements.miniMapItems.forEach((elem, i) => {
        elem.addEventListener('click', () => {
          if (!this.allowSlideNavigation) return;
          this.goToMedia(i);
        });
      });
    }
    window.addEventListener('resize', this.debounce(this.handleResize));
  }
  init() {
    this.addEventListeners();
    this.checkURLForSlideShow();
    this.setupSwipeNavigation();
    this.setupScrollNavigation();
  }
}

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("bf523b056063477b4116")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi41MDRhZDc4ODg5NmMyZjIzNzg2ZC5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQ1I7QUFDbUI7QUFDRTtBQUU3QixNQUFNSSxPQUFPLFNBQVNKLG9EQUFJLENBQUM7RUFDeENLLFdBQVdBLENBQUEsRUFBRztJQUNaLEtBQUssQ0FBQztNQUNKQyxFQUFFLEVBQUUsU0FBUztNQUNiQyxRQUFRLEVBQUU7UUFDUkMsT0FBTyxFQUFFLGdCQUFnQjtRQUN6QkMsWUFBWSxFQUFFLHFCQUFxQjtRQUNuQ0MsU0FBUyxFQUFFLGtCQUFrQjtRQUM3QkMsSUFBSSxFQUFFLHVCQUF1QjtRQUM3QkMsSUFBSSxFQUFFLHVCQUF1QjtRQUM3QkMsS0FBSyxFQUFFLCtCQUErQjtRQUN0Q0Msa0JBQWtCLEVBQUUsNEJBQTRCO1FBQ2hEQyxnQkFBZ0IsRUFBRSx3QkFBd0I7UUFDMUNDLE9BQU8sRUFBRSxpQkFBaUI7UUFDMUJDLFlBQVksRUFBRSxzQkFBc0I7UUFDcENDLGdCQUFnQixFQUFFO01BQ3BCO0lBQ0YsQ0FBQyxDQUFDO0lBRUZqQiw0Q0FBSSxDQUFDa0IsY0FBYyxDQUFDaEIsdURBQVUsQ0FBQztJQUMvQkEsdURBQVUsQ0FBQ2lCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLENBQUM7SUFFN0MsSUFBSSxDQUFDQyxFQUFFLEdBQUdwQiw0Q0FBSSxDQUFDcUIsUUFBUSxDQUFDLENBQUM7SUFDekIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsQ0FBQztJQUNyQixJQUFJLENBQUNDLEtBQUssR0FBRyxFQUFFO0lBQ2YsSUFBSSxDQUFDdEIsTUFBTSxHQUFHQSxxREFBTTtJQUNwQixJQUFJLENBQUN1QixlQUFlLEdBQUcsS0FBSztJQUU1QixJQUFJLENBQUNDLG9CQUFvQixHQUFHLEtBQUs7SUFFakMsSUFBSSxDQUFDQyxJQUFJLENBQUMsQ0FBQztFQUNiO0VBRUFDLGFBQWFBLENBQUNDLENBQUMsRUFBRTtJQUNmLE1BQU1DLFlB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O0lBQ3ZCLENBQUMsQ0FBQztJQUVGRyxRQUFRLENBQUN1QyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDa0QsYUFBYSxDQUFDO0lBRXhELElBQUcsSUFBSSxDQUFDdkksUUFBUSxDQUFDVSxZQUFZLEVBQUU7TUFDN0IsSUFBSSxDQUFDVixRQUFRLENBQUNVLFlBQVksQ0FBQ3FHLE9BQU8sQ0FBQyxDQUFDWCxJQUFJLEVBQUVhLENBQUMsS0FBSztRQUM5Q2IsSUFBSSxDQUFDZixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTTtVQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDbEUsb0JBQW9CLEVBQUU7VUFDaEMsSUFBSSxDQUFDd0MsU0FBUyxDQUFDc0QsQ0FBQyxDQUFDO1FBQ25CLENBQUMsQ0FBQztNQUNKLENBQUMsQ0FBQztJQUNKO0lBRUE1RCxNQUFNLENBQUNnQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDcUQsUUFBUSxDQUFDLElBQUksQ0FBQ0osWUFBWSxDQUFDLENBQUM7RUFDckU7RUFFQWxILElBQUlBLENBQUEsRUFBRztJQUNMLElBQUksQ0FBQzJILGlCQUFpQixDQUFDLENBQUM7SUFDeEIsSUFBSSxDQUFDdkIsb0JBQW9CLENBQUMsQ0FBQztJQUMzQixJQUFJLENBQUNoQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQzNCLElBQUksQ0FBQ0wscUJBQXFCLENBQUMsQ0FBQztFQUM5QjtBQUNGLEM7Ozs7Ozs7O1VDamJBLHNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9vbTE4Ny8uL2FwcC9wYWdlcy9HYWxsZXJ5L2luZGV4LmpzIiwid2VicGFjazovL3Jvb20xODcvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWdlIGZyb20gJ2NsYXNzZXMvUGFnZSdcbmltcG9ydCBnc2FwIGZyb20gJ2dzYXAnXG5pbXBvcnQgeyBzY3JvbGwgfSBmcm9tICd1dGlscy9MZW5pc1Njcm9sbCdcbmltcG9ydCB7IEN1c3RvbUVhc2UgfSBmcm9tICdnc2FwL0N1c3RvbUVhc2UnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnkgZXh0ZW5kcyBQYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgaWQ6ICdnYWxsZXJ5JyxcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGdhbGxlcnk6ICdbZGF0YS1nYWxsZXJ5XScsXG4gICAgICAgIGdhbGxlcnlJdGVtczogJ1tkYXRhLWdhbGxlcnktaXRlbV0nLFxuICAgICAgICBzbGlkZVNob3c6ICdbZGF0YS1zbGlkZXNob3ddJyxcbiAgICAgICAgcHJldjogJ1tkYXRhLXNsaWRlc2hvdy1wcmV2XScsXG4gICAgICAgIG5leHQ6ICdbZGF0YS1zbGlkZXNob3ctbmV4dF0nLFxuICAgICAgICBjbG9zZTogJ1tkYXRhLXNsaWRlc2hvd10gW2RhdGEtY2xvc2VdJyxcbiAgICAgICAgc2xpZGVTaG93Q29udGFpbmVyOiAnW2RhdGEtc2xpZGVzaG93LWNvbnRhaW5lcl0nLFxuICAgICAgICBzbGlkZVNob3dDb3VudGVyOiAnW2RhdGEtc2xpZGVzaG93LWluZGV4XScsXG4gICAgICAgIG1pbmlNYXA6ICdbZGF0YS1taW5pLW1hcF0nLFxuICAgICAgICBtaW5pTWFwSXRlbXM6ICdbZGF0YS1taW5pLW1hcC1pdGVtXScsXG4gICAgICAgIG1pbmlNYXBJbmRpY2F0b3I6ICdbZGF0YS1taW5pLW1hcC1pbmRpY2F0b3JdJ1xuICAgICAgfVxuICAgIH0pXG5cbiAgICBnc2FwLnJlZ2lzdGVyUGx1Z2luKEN1c3RvbUVhc2UpXG4gICAgQ3VzdG9tRWFzZS5jcmVhdGUoXCJ6b29tXCIsIFwiMC43MSwgMCwgMC4wNiwgMVwiKVxuXG4gICAgdGhpcy50bCA9IGdzYXAudGltZWxpbmUoKVxuICAgIHRoaXMuY3VycmVudEluZGV4ID0gMFxuICAgIHRoaXMubWVkaWEgPSBbXVxuICAgIHRoaXMuc2Nyb2xsID0gc2Nyb2xsXG4gICAgdGhpcy5oYXNNZWRpYUJlZW5TZXQgPSBmYWxzZVxuXG4gICAgdGhpcy5hbGxvd1NsaWRlTmF2aWdhdGlvbiA9IGZhbHNlXG4gICAgXG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIG9wZW5TbGlkZVNob3coZSkge1xuICAgIGNvbnN0IG1lZGlhRWxlbWVudCA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IG1lZGlhSWQgPSBtZWRpYUVsZW1lbnQuZGF0YXNldC5nYWxsZXJ5SWQ7XG5cbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHRoaXMubWVkaWEuZmluZEluZGV4KG1lZGlhID0+IG1lZGlhLmRhdGFzZXQuZ2FsbGVyeUlkID09PSBtZWRpYUlkKVxuICAgIHRoaXMuZGlzcGxheUluZGV4KClcbiAgICB0aGlzLnNjcm9sbC5zdG9wKClcbiAgICB0aGlzLnRsLmNsZWFyKClcblxuICAgIHRoaXMudXBkYXRlTWluaW1hcEluZGljYXRvcihtZWRpYUlkLCB0cnVlKTtcblxuICAgIHRoaXMudGwudG8odGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMsIHsgXG4gICAgICBjbGlwUGF0aDogXCJwb2x5Z29uKDAlIDEwMCUsIDEwMCUgMTAwJSwgMTAwJSAxMDAlLCAwJSAxMDAlKVwiLCBcbiAgICAgIGR1cmF0aW9uOiAwLjQsXG4gICAgICBlYXNlOiBcInpvb21cIlxuICAgIH0pXG5cbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMuc2xpZGVTaG93LCB7XG4gICAgICBjbGlwUGF0aDogXCJwb2x5Z29uKDAlIDAlLCAxMDAlIDAlLCAxMDAlIDEwMCUsIDAlIDEwMCUpXCIsXG4gICAgICBkdXJhdGlvbjogMC42LFxuICAgICAgZWFzZTogXCJ6b29tXCIsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuc2xpZGVTaG93LmNsYXNzTGlzdC5yZW1vdmUoJ2Nhbm5vdC1pbnRlcmFjdCcpXG4gICAgICAgIHRoaXMuc2hvd01lZGlhKClcbiAgICAgICAgdGhpcy5lbmFibGVTbGlkZU5hdmlnYXRpb24oKVxuICAgICAgfVxuICAgIH0sICctPTAuMicpXG5cbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMuY2xvc2UsIHsgb3BhY2l0eTogMSwgZHVyYXRpb246IDAuMywgZWFzZTogXCJwb3dlcjIub3V0XCIgfSlcbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMucHJldiwgeyBvcGFjaXR5OiAxLCBkdXJhdGlvbjogMC4zLCBlYXNlOiBcInBvd2VyMi5vdXRcIiB9LCAnY29udHJvbHMnKVxuICAgIHRoaXMudGwudG8odGhpcy5lbGVtZW50cy5uZXh0LCB7IG9wYWNpdHk6IDEsIGR1cmF0aW9uOiAwLjMsIGVhc2U6IFwicG93ZXIyLm91dFwiIH0sICdjb250cm9scycpXG4gIH1cblxuICBjbG9zZVNsaWRlU2hvdygpIHtcbiAgICB0aGlzLmRpc2FibGVTbGlkZU5hdmlnYXRpb24oKVxuICAgIGxldCBzbGlkZVNob3dNZWRpYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXNob3ctbWVkaWFfX2l0ZW0nKVxuICAgIHRoaXMuZWxlbWVudHMuc2xpZGVTaG93LmNsYXNzTGlzdC5hZGQoJ2Nhbm5vdC1pbnRlcmFjdCcpXG5cbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMuc2xpZGVTaG93LCB7XG4gICAgICBjbGlwUGF0aDogXCJwb2x5Z29uKDAlIDEwMCUsIDEwMCUgMTAwJSwgMTAwJSAxMDAlLCAwJSAxMDAlKVwiLFxuICAgICAgZHVyYXRpb246IDAuNixcbiAgICAgIGVhc2U6IFwiem9vbVwiLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICBzbGlkZVNob3dNZWRpYS5yZW1vdmUoKVxuICAgICAgICB0aGlzLmhhc01lZGlhQmVlblNldCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc2Nyb2xsLnN0YXJ0KClcbiAgICAgICAgdGhpcy5hbmltYXRlSW1hZ2VzKGZhbHNlLCB0cnVlKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMuY2xvc2UsIHsgb3BhY2l0eTogMCwgZHVyYXRpb246IDAuMDAxIH0sICdoaWRlJylcbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMucHJldiwgeyBvcGFjaXR5OiAwLCBkdXJhdGlvbjogMC4wMDEgfSwgJ2hpZGUnKVxuICAgIHRoaXMudGwudG8odGhpcy5lbGVtZW50cy5uZXh0LCB7IG9wYWNpdHk6IDAsIGR1cmF0aW9uOiAwLjAwMSB9LCAnaGlkZScpXG4gICAgXG4gICAgLy8gUmVtb3ZlIGltYWdlIHBhcmFtZXRlciBmcm9tIFVSTFxuICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uKTtcbiAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcIm1lZGlhXCIpO1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgbmV3VXJsKTtcbiAgfVxuICBcbiAgZ29Ub01lZGlhKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLm1lZGlhLmxlbmd0aCB8fCBpbmRleCA9PT0gdGhpcy5jdXJyZW50SW5kZXgpIHJldHVybjtcbiAgICBcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgIHRoaXMuZGlzcGxheUluZGV4KCk7XG5cbiAgICBpZiAodGhpcy50bC5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLnRsLmFkZCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd01lZGlhKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93TWVkaWEoKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VNZWRpYShkaXJlY3Rpb24pIHtcbiAgICBjb25zdCBvbGRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4XG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSAodGhpcy5jdXJyZW50SW5kZXggKyBkaXJlY3Rpb24gKyB0aGlzLm1lZGlhLmxlbmd0aCkgJSB0aGlzLm1lZGlhLmxlbmd0aFxuICAgIHRoaXMuZGlzcGxheUluZGV4KClcbiAgICBpZiAob2xkSW5kZXggPT09IHRoaXMuY3VycmVudEluZGV4KSByZXR1cm5cblxuICAgIGlmICh0aGlzLnRsLmlzQWN0aXZlKCkpIHtcbiAgICAgIHRoaXMudGwuYWRkKCgpID0+IHtcbiAgICAgICAgdGhpcy5zaG93TWVkaWEoKTtcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd01lZGlhKCk7XG4gICAgfVxuICB9XG5cbiAgc2hvd01lZGlhKCkge1xuICAgIGNvbnN0IG1lZGlhQ3VycmVudEVsZW0gPSB0aGlzLm1lZGlhW3RoaXMuY3VycmVudEluZGV4XVxuICAgIGNvbnN0IG1lZGlhVHlwZSA9IG1lZGlhQ3VycmVudEVsZW0uZGF0YXNldC5nYWxsZXJ5SXRlbVxuICAgIGNvbnN0IG1lZGlhSWQgPSBtZWRpYUN1cnJlbnRFbGVtLmRhdGFzZXQuZ2FsbGVyeUlkO1xuICAgIFxuICAgIHRoaXMudXBkYXRlTWluaW1hcEluZGljYXRvcihtZWRpYUlkKVxuXG4gICAgLy8gSWYgdGhlIHNhbWUgbWVkaWEsIGRvbid0IGRvIGFueXRoaW5nXG4gICAgaWYgKHRoaXMuZWxlbWVudHMuc2xpZGVTaG93Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNsaWRlc2hvdy1pZD1cIiR7bWVkaWFJZH1cIl1gKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5oYXNNZWRpYUJlZW5TZXQpIHtcbiAgICAgIHRoaXMuY3JlYXRlQW5kU2V0TWVkaWFFbGVtZW50KG1lZGlhQ3VycmVudEVsZW0sIG1lZGlhVHlwZSlcbiAgICAgIHRoaXMuaGFzTWVkaWFCZWVuU2V0ID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN3YXBNZWRpYUVsZW1lbnQobWVkaWFDdXJyZW50RWxlbSwgbWVkaWFUeXBlKVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgVVJMIHdpdGggdGhlIG5ldyBpbWFnZSBJRFxuICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uKVxuICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KFwibWVkaWFcIiwgbWVkaWFJZClcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIG5ld1VybClcbiAgfVxuXG4gIGNyZWF0ZUFuZFNldE1lZGlhRWxlbWVudChtZWRpYUVsZW0sIG1lZGlhVHlwZSkge1xuICAgIGNvbnN0IG5ld0VsZW0gPSB0aGlzLmNyZWF0ZU5ld01lZGlhSXRlbShtZWRpYVR5cGUpXG4gICAgdGhpcy5zZXRNZWRpYUF0dHJpYnV0ZXMobmV3RWxlbSwgbWVkaWFFbGVtLCBtZWRpYVR5cGUpXG5cbiAgICB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvd0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJyAvLyBDbGVhciBwcmV2aW91cyBlbGVtZW50c1xuICAgIHRoaXMuZWxlbWVudHMuc2xpZGVTaG93Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0VsZW0pXG5cblxuICAgIGdzYXAuZnJvbVRvKG5ld0VsZW0sIHsgY2xpcFBhdGg6IFwicG9seWdvbigwJSAxMDAlLCAxMDAlIDEwMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIiB9LCB7IGNsaXBQYXRoOiBcInBvbHlnb24oMCUgMCUsIDEwMCUgMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIiwgZHVyYXRpb246IDAuNiwgZWFzZTogXCJwb3dlcjIub3V0XCIgfSlcbiAgfVxuXG4gIGRpc3BsYXlJbmRleCgpIHtcbiAgICB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvd0NvdW50ZXIuaW5uZXJIVE1MID0gU3RyaW5nKHRoaXMuY3VycmVudEluZGV4ICsgMSkucGFkU3RhcnQoMiwgJzAnKVxuICB9XG5cbiAgc3dhcE1lZGlhRWxlbWVudChtZWRpYUVsZW0sIG1lZGlhVHlwZSkge1xuICAgIGNvbnN0IG9sZEVsZW0gPSB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvd0NvbnRhaW5lci5maXJzdENoaWxkXG4gICAgY29uc3QgbmV3RWxlbSA9IHRoaXMuY3JlYXRlTmV3TWVkaWFJdGVtKG1lZGlhVHlwZSlcbiAgICB0aGlzLnNldE1lZGlhQXR0cmlidXRlcyhuZXdFbGVtLCBtZWRpYUVsZW0sIG1lZGlhVHlwZSlcblxuICAgIHRoaXMuZWxlbWVudHMuc2xpZGVTaG93Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0VsZW0pXG4gICAgXG4gICAgdGhpcy50bC5mcm9tVG8obmV3RWxlbSwgeyBvcGFjaXR5OiAwIH0sIHsgb3BhY2l0eTogMSwgZHVyYXRpb246IDAuNCwgZWFzZTogXCJwb3dlcjIub3V0XCIgfSlcbiAgICBcbiAgICB0aGlzLnRsLnRvKG9sZEVsZW0sIHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBkdXJhdGlvbjogMC40LFxuICAgICAgZWFzZTogXCJwb3dlcjIub3V0XCIsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIG9sZEVsZW0ucmVtb3ZlKClcbiAgICAgIH1cbiAgICB9LCBcIi09MC4yXCIpXG4gIH1cblxuICBzZXR1cFNjcm9sbE5hdmlnYXRpb24oKSB7XG4gICAgbGV0IHRpY2tpbmcgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIChlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuYWxsb3dTbGlkZU5hdmlnYXRpb24gfHwgdGlja2luZykgcmV0dXJuO1xuXG4gICAgICB0aWNraW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGUuZGVsdGFZID4gMCA/IDEgOiAtMTtcblxuICAgICAgdGhpcy5jaGFuZ2VNZWRpYShkaXJlY3Rpb24pO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGlja2luZyA9IGZhbHNlO1xuICAgICAgfSwgNjAwKTsgLy8gZGVsYXkgdG8gcHJldmVudCBvdmVyc2Nyb2xsXG4gICAgfSk7XG4gIH1cblxuICBzZXR1cFN3aXBlTmF2aWdhdGlvbigpIHtcbiAgICBpZighdGhpcy5lbGVtZW50cy5zbGlkZVNob3dDb250YWluZXIpIHJldHVyblxuXG4gICAgbGV0IHRvdWNoU3RhcnRYID0gMDtcbiAgICBsZXQgdG91Y2hFbmRYID0gMDtcblxuICAgIGNvbnN0IHRocmVzaG9sZCA9IDUwOyAvLyBNaW5pbXVtIHN3aXBlIGRpc3RhbmNlXG5cbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvd0NvbnRhaW5lcjtcbiAgICBcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gICAgICB0b3VjaFN0YXJ0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWDtcbiAgICB9KTtcblxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChlKSA9PiB7XG4gICAgICB0b3VjaEVuZFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XG4gICAgICBoYW5kbGVTd2lwZSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlU3dpcGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuYWxsb3dTbGlkZU5hdmlnYXRpb24pIHJldHVybjtcbiAgICAgIGNvbnN0IGRlbHRhID0gdG91Y2hTdGFydFggLSB0b3VjaEVuZFg7XG4gICAgICBcbiAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiB0aHJlc2hvbGQpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gZGVsdGEgPiAwID8gMSA6IC0xO1xuICAgICAgICB0aGlzLmNoYW5nZU1lZGlhKGRpcmVjdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGRpc2FibGVTbGlkZU5hdmlnYXRpb24oKSB7XG4gICAgdGhpcy5hbGxvd1NsaWRlTmF2aWdhdGlvbiA9IGZhbHNlO1xuICB9XG5cbiAgZW5hYmxlU2xpZGVOYXZpZ2F0aW9uKCkge1xuICAgIHRoaXMuYWxsb3dTbGlkZU5hdmlnYXRpb24gPSB0cnVlO1xuICB9XG5cbiAgY3JlYXRlTmV3TWVkaWFJdGVtKHR5cGUpIHtcbiAgICBjb25zdCBlbGVtID0gdHlwZSA9PT0gXCJ2aWRlb1wiID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXNob3ctbWVkaWFfX2l0ZW0nKVxuICAgIHJldHVybiBlbGVtXG4gIH1cblxuICBzZXRNZWRpYUF0dHJpYnV0ZXMoZWxlbSwgbWVkaWFFbGVtLCBtZWRpYVR5cGUpIHtcbiAgICBjb25zdCBtZWRpYUlkID0gbWVkaWFFbGVtLmRhdGFzZXQuZ2FsbGVyeUlkXG4gICAgY29uc3QgcG9zdGVySW1nID0gbWVkaWFFbGVtLnNyY1xuXG4gICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGVzaG93LWlkJywgbWVkaWFJZClcblxuICAgIGlmIChtZWRpYVR5cGUgPT09IFwidmlkZW9cIikge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2F1dG9wbGF5JywgJycpXG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnbG9vcCcsICcnKVxuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpXG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCAnJylcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdwb3N0ZXInLCBwb3N0ZXJJbWcpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICBzb3VyY2Uuc3JjID0gbWVkaWFFbGVtLmRhdGFzZXQuZ2FsbGVyeVNyY1xuICAgICAgc291cmNlLnR5cGUgPSBcInZpZGVvL21wNFwiXG4gICAgICBlbGVtLmFwcGVuZENoaWxkKHNvdXJjZSlcblxuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtLnNyYyA9IG1lZGlhRWxlbS5kYXRhc2V0LmdhbGxlcnlTcmNcbiAgICAgIGVsZW0uYWx0ID0gbWVkaWFFbGVtLmFsdCB8fCBcIkdhbGxlcnkgSW1hZ2VcIlxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZU1pbmltYXBJbmRpY2F0b3IobWVkaWFJZCA9IHRoaXMubWVkaWFbdGhpcy5jdXJyZW50SW5kZXhdPy5kYXRhc2V0LmdhbGxlcnlJZCwgaW5zdGFudCA9IGZhbHNlKSB7XG4gICAgaWYgKCFtZWRpYUlkKSByZXR1cm5cbiAgICBsZXQgbWluaU1hcFJlY3QgPSB0aGlzLmVsZW1lbnRzLm1pbmlNYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIHRoaXMuZWxlbWVudHMubWluaU1hcEl0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgIGlmIChpdGVtLmRhdGFzZXQuZ2FsbGVyeUlkID09PSBtZWRpYUlkKSB7XG4gICAgICAgIGxldCBpdGVtUmVjdCA9IGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhcmdldFggPSAtaXRlbS5vZmZzZXRMZWZ0XG4gICAgICAgIGNvbnN0IGluZGljYXRvclhwb3MgPSBpdGVtUmVjdC5sZWZ0IC0gbWluaU1hcFJlY3QubGVmdFxuXG4gICAgICAgIGlmIChpbnN0YW50KSB7XG4gICAgICAgICAgZ3NhcC5zZXQodGhpcy5lbGVtZW50cy5taW5pTWFwSW5kaWNhdG9yLCB7eDogaW5kaWNhdG9yWHBvc30pXG4gICAgICAgICAgZ3NhcC5zZXQodGhpcy5lbGVtZW50cy5taW5pTWFwLCB7IHg6IHRhcmdldFggfSlcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdzYXAudG8odGhpcy5lbGVtZW50cy5taW5pTWFwSW5kaWNhdG9yLCB7XG4gICAgICAgICAgICB4OiBpbmRpY2F0b3JYcG9zLFxuICAgICAgICAgICAgZHVyYXRpb246IDAuNCxcbiAgICAgICAgICAgIGVhc2U6IFwiem9vbVwiXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGdzYXAudG8odGhpcy5lbGVtZW50cy5taW5pTWFwLCB7XG4gICAgICAgICAgICB4OiB0YXJnZXRYLFxuICAgICAgICAgICAgZHVyYXRpb246IDAuNCxcbiAgICAgICAgICAgIGVhc2U6IFwicG93ZXIzLm91dFwiXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gQ2hlY2sgVVJMIG9uIFBhZ2UgTG9hZCAmIE9wZW4gU2xpZGVzaG93IGlmIE5lZWRlZFxuICBjaGVja1VSTEZvclNsaWRlU2hvdygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgIGNvbnN0IG1lZGlhSWQgPSB1cmxQYXJhbXMuZ2V0KFwibWVkaWFcIik7XG4gIFxuICAgICAgaWYgKG1lZGlhSWQpIHtcbiAgICAgICAgY29uc3QgbWVkaWFFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZ2FsbGVyeS1pZD1cIiR7bWVkaWFJZH1cIl1gKTtcbiAgICAgICAgaWYgKG1lZGlhRWxlbWVudCkgdGhpcy5vcGVuU2xpZGVTaG93KHsgdGFyZ2V0OiBtZWRpYUVsZW1lbnQgfSk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBcbiAgYW5pbWF0ZUltYWdlcyh1c2VTdHJvbGxUcmlnZ2VyLCBzaG93ID0gdHJ1ZSkge1xuICAgIGxldCBjbGlwUGF0aFBvbHkgPSBzaG93PyBcInBvbHlnb24oMCUgMCUsIDEwMCUgMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIiA6IFwicG9seWdvbigwJSAxMDAlLCAxMDAlIDEwMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIiBcblxuICAgIGlmKHVzZVN0cm9sbFRyaWdnZXIpIHtcbiAgICAgIGdzYXAudG8odGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGlwUGF0aDogY2xpcFBhdGhQb2x5LFxuICAgICAgICAgIGR1cmF0aW9uOiAwLjYsXG4gICAgICAgICAgc2Nyb2xsVHJpZ2dlcjoge1xuICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMsXG4gICAgICAgICAgICBzdGFydDogJ3RvcCBib3R0b20nLFxuICAgICAgICAgICAgc2NydWI6IGZhbHNlLFxuICAgICAgICAgICAgbWFya2VyczogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVhc2U6IFwiem9vbVwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBnc2FwLnRvKHRoaXMuZWxlbWVudHMuZ2FsbGVyeUl0ZW1zLFxuICAgICAgICB7XG4gICAgICAgICAgY2xpcFBhdGg6IGNsaXBQYXRoUG9seSxcbiAgICAgICAgICBkdXJhdGlvbjogMC42LFxuICAgICAgICAgIGVhc2U6IFwiem9vbVwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBhbmltYXRlQXNzZXRzKHRsLCByZXNvbHZlKSB7XG4gICAgc3VwZXIuYW5pbWF0ZUFzc2V0cyh0bCwgKCkgPT4ge1xuICAgICAgdGhpcy5hbmltYXRlSW1hZ2VzKHRydWUpXG5cbiAgICAgIHJlc29sdmUoKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgdGhpcy51cGRhdGVNaW5pbWFwSW5kaWNhdG9yKClcbiAgfVxuXG4gIGhhbmRsZUtleURvd24gPSAoZSkgPT4ge1xuICAgIC8vIE9ubHkgcHJvY2VlZCBpZiBzbGlkZXNob3cgaXMgb3BlblxuICAgIGlmICghdGhpcy5lbGVtZW50cy5zbGlkZVNob3cgfHwgdGhpcy5lbGVtZW50cy5zbGlkZVNob3cuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYW5ub3QtaW50ZXJhY3QnKSkgcmV0dXJuXG5cbiAgICBpZiAoZS5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgdGhpcy5jaGFuZ2VNZWRpYSgxKVxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICB0aGlzLmNoYW5nZU1lZGlhKC0xKVxuICAgIH1cbiAgfVxuXG4gIC8vIERlYm91bmNlIGhlbHBlciAoYXZvaWRzIHNwYW1taW5nIGR1cmluZyByZXNpemUpXG4gIGRlYm91bmNlKGZuLCBkZWxheSA9IDEwMCkge1xuICAgIGxldCB0aW1lb3V0XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZm4sIGRlbGF5KVxuICAgIH1cbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGlmKCF0aGlzLmVsZW1lbnRzLmdhbGxlcnlJdGVtcyB8fCAhdGhpcy5lbGVtZW50cy5jbG9zZSkgcmV0dXJuXG5cbiAgICBnc2FwLnNldCh0aGlzLmVsZW1lbnRzLmdhbGxlcnlJdGVtcywgeyBjbGlwUGF0aDogXCJwb2x5Z29uKDAlIDEwMCUsIDEwMCUgMTAwJSwgMTAwJSAxMDAlLCAwJSAxMDAlKVwifSlcbiAgICBcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmVsZW1lbnRzLmdhbGxlcnlJdGVtcykgfHwgKHR5cGVvZiB0aGlzLmVsZW1lbnRzLmdhbGxlcnlJdGVtcyA9PT0gJ29iamVjdCcpKSB7XG4gICAgICB0aGlzLm1lZGlhID0gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnRzLmdhbGxlcnlJdGVtcylcbiAgICAgIHRoaXMuZWxlbWVudHMuZ2FsbGVyeUl0ZW1zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgIHRoaXMub3BlblNsaWRlU2hvdyhlKVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5TbGlkZVNob3coZSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5lbGVtZW50cy5wcmV2KSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLnByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2hhbmdlTWVkaWEoLTEpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKHRoaXMuZWxlbWVudHMubmV4dCkge1xuICAgICAgdGhpcy5lbGVtZW50cy5uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNoYW5nZU1lZGlhKDEpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMuY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlU2xpZGVTaG93KClcbiAgICB9KVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bilcblxuICAgIGlmKHRoaXMuZWxlbWVudHMubWluaU1hcEl0ZW1zKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLm1pbmlNYXBJdGVtcy5mb3JFYWNoKChlbGVtLCBpKSA9PiB7XG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmFsbG93U2xpZGVOYXZpZ2F0aW9uKSByZXR1cm47XG4gICAgICAgICAgdGhpcy5nb1RvTWVkaWEoaSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2UodGhpcy5oYW5kbGVSZXNpemUpKVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgICB0aGlzLmNoZWNrVVJMRm9yU2xpZGVTaG93KClcbiAgICB0aGlzLnNldHVwU3dpcGVOYXZpZ2F0aW9uKClcbiAgICB0aGlzLnNldHVwU2Nyb2xsTmF2aWdhdGlvbigpXG4gIH1cbn0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJiZjUyM2IwNTYwNjM0NzdiNDExNlwiKSJdLCJuYW1lcyI6WyJQYWdlIiwiZ3NhcCIsInNjcm9sbCIsIkN1c3RvbUVhc2UiLCJHYWxsZXJ5IiwiY29uc3RydWN0b3IiLCJpZCIsImVsZW1lbnRzIiwiZ2FsbGVyeSIsImdhbGxlcnlJdGVtcyIsInNsaWRlU2hvdyIsInByZXYiLCJuZXh0IiwiY2xvc2UiLCJzbGlkZVNob3dDb250YWluZXIiLCJzbGlkZVNob3dDb3VudGVyIiwibWluaU1hcCIsIm1pbmlNYXBJdGVtcyIsIm1pbmlNYXBJbmRpY2F0b3IiLCJyZWdpc3RlclBsdWdpbiIsImNyZWF0ZSIsInRsIiwidGltZWxpbmUiLCJjdXJyZW50SW5kZXgiLCJtZWRpYSIsImhhc01lZGlhQmVlblNldCIsImFsbG93U2xpZGVOYXZpZ2F0aW9uIiwiaW5pdCIsIm9wZW5TbGlkZVNob3ciLCJlIiwibWVkaWFFbGVtZW50IiwidGFyZ2V0IiwibWVkaWFJZCIsImRhdGFzZXQiLCJnYWxsZXJ5SWQiLCJmaW5kSW5kZXgiLCJkaXNwbGF5SW5kZXgiLCJzdG9wIiwiY2xlYXIiLCJ1cGRhdGVNaW5pbWFwSW5kaWNhdG9yIiwidG8iLCJjbGlwUGF0aCIsImR1cmF0aW9uIiwiZWFzZSIsIm9uQ29tcGxldGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzaG93TWVkaWEiLCJlbmFibGVTbGlkZU5hdmlnYXRpb24iLCJvcGFjaXR5IiwiY2xvc2VTbGlkZVNob3ciLCJkaXNhYmxlU2xpZGVOYXZpZ2F0aW9uIiwic2xpZGVTaG93TWVkaWEiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGQiLCJzdGFydCIsImFuaW1hdGVJbWFnZXMiLCJuZXdVcmwiLCJVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaFBhcmFtcyIsImRlbGV0ZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJnb1RvTWVkaWEiLCJpbmRleCIsImxlbmd0aCIsImlzQWN0aXZlIiwiY2hhbmdlTWVkaWEiLCJkaXJlY3Rpb24iLCJvbGRJbmRleCIsIm1lZGlhQ3VycmVudEVsZW0iLCJtZWRpYVR5cGUiLCJnYWxsZXJ5SXRlbSIsImNyZWF0ZUFuZFNldE1lZGlhRWxlbWVudCIsInN3YXBNZWRpYUVsZW1lbnQiLCJzZXQiLCJtZWRpYUVsZW0iLCJuZXdFbGVtIiwiY3JlYXRlTmV3TWVkaWFJdGVtIiwic2V0TWVkaWFBdHRyaWJ1dGVzIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJmcm9tVG8iLCJTdHJpbmciLCJwYWRTdGFydCIsIm9sZEVsZW0iLCJmaXJzdENoaWxkIiwic2V0dXBTY3JvbGxOYXZpZ2F0aW9uIiwidGlja2luZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWx0YVkiLCJzZXRUaW1lb3V0Iiwic2V0dXBTd2lwZU5hdmlnYXRpb24iLCJ0b3VjaFN0YXJ0WCIsInRvdWNoRW5kWCIsInRocmVzaG9sZCIsImNvbnRhaW5lciIsImNoYW5nZWRUb3VjaGVzIiwic2NyZWVuWCIsImhhbmRsZVN3aXBlIiwiZGVsdGEiLCJNYXRoIiwiYWJzIiwidHlwZSIsImVsZW0iLCJjcmVhdGVFbGVtZW50IiwicG9zdGVySW1nIiwic3JjIiwic2V0QXR0cmlidXRlIiwic291cmNlIiwiZ2FsbGVyeVNyYyIsImFsdCIsImluc3RhbnQiLCJtaW5pTWFwUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZvckVhY2giLCJpdGVtIiwiaSIsIml0ZW1SZWN0IiwidGFyZ2V0WCIsIm9mZnNldExlZnQiLCJpbmRpY2F0b3JYcG9zIiwibGVmdCIsIngiLCJjaGVja1VSTEZvclNsaWRlU2hvdyIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsImdldCIsInVzZVN0cm9sbFRyaWdnZXIiLCJzaG93IiwiY2xpcFBhdGhQb2x5Iiwic2Nyb2xsVHJpZ2dlciIsInRyaWdnZXIiLCJzY3J1YiIsIm1hcmtlcnMiLCJhbmltYXRlQXNzZXRzIiwicmVzb2x2ZSIsImhhbmRsZVJlc2l6ZSIsImhhbmRsZUtleURvd24iLCJjb250YWlucyIsImtleSIsImRlYm91bmNlIiwiZm4iLCJkZWxheSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiaXNBcnJheSIsImZyb20iLCJlbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==