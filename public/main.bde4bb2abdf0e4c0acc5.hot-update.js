"use strict";
self["webpackHotUpdateroom187"]("main",{

/***/ "./app/pages/Gallery/index.js":
/*!************************************!*\
  !*** ./app/pages/Gallery/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Gallery)
/* harmony export */ });
/* harmony import */ var classes_Page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classes/Page */ "./app/classes/Page.js");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var utils_LenisScroll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/LenisScroll */ "./app/utils/LenisScroll.js");
/* harmony import */ var gsap_CustomEase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gsap/CustomEase */ "./node_modules/gsap/CustomEase.js");




class Gallery extends classes_Page__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor() {
    super({
      id: 'gallery',
      elements: {
        gallery: '[data-gallery]',
        galleryItems: '[data-gallery-item]',
        slideShow: '[data-slideshow]',
        prev: '[data-slideshow-prev]',
        next: '[data-slideshow-next]',
        close: '[data-slideshow] [data-close]',
        slideShowContainer: '[data-slideshow-container]',
        slideShowCounter: '[data-slideshow-index]',
        miniMap: '[data-mini-map]',
        miniMapItems: '[data-mini-map-item]',
        miniMapIndicator: '[data-mini-map-indicator]'
      }
    });
    gsap__WEBPACK_IMPORTED_MODULE_2__["default"].registerPlugin(gsap_CustomEase__WEBPACK_IMPORTED_MODULE_3__.CustomEase);
    gsap_CustomEase__WEBPACK_IMPORTED_MODULE_3__.CustomEase.create("zoom", "0.71, 0, 0.06, 1");
    this.tl = gsap__WEBPACK_IMPORTED_MODULE_2__["default"].timeline();
    this.currentIndex = 0;
    this.media = [];
    this.scroll = utils_LenisScroll__WEBPACK_IMPORTED_MODULE_1__.scroll;
    this.hasMediaBeenSet = false;
    this.allowSlideNavigation = false;
    this.init();
  }
  openSlideShow(e) {
    const mediaElement = e.target;
    const mediaId = mediaElement.dataset.galleryId;
    this.currentIndex = this.media.findIndex(media => media.dataset.galleryId === mediaId);
    this.displayIndex();
    this.scroll.stop();
    this.tl.clear();
    this.updateMinimapIndicator(mediaId, true);
    this.tl.to(this.elements.galleryItems, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)",
      duration: 0.4,
      ease: "zoom"
    });
    this.tl.to(this.elements.slideShow, {
      clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
      duration: 0.6,
      ease: "zoom",
      onComplete: () => {
        this.elements.slideShow.classList.remove('cannot-interact');
        this.showMedia();
        this.enableSlideNavigation();
      }
    }, '-=0.2');
    this.tl.to(this.elements.close, {
      opacity: 1,
      duration: 0.3,
      ease: "power2.out"
    });
    this.tl.to(this.elements.prev, {
      opacity: 1,
      duration: 0.3,
      ease: "power2.out"
    }, 'controls');
    this.tl.to(this.elements.next, {
      opacity: 1,
      duration: 0.3,
      ease: "power2.out"
    }, 'controls');
  }
  closeSlideShow() {
    this.disableSlideNavigation();
    let slideShowMedia = document.querySelector('.slideshow-media__item');
    this.elements.slideShow.classList.add('cannot-interact');
    this.tl.to(this.elements.slideShow, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)",
      duration: 0.6,
      ease: "zoom",
      onComplete: () => {
        slideShowMedia.remove();
        this.hasMediaBeenSet = false;
        this.scroll.start();
        this.animateImages(false, true);
      }
    });
    this.tl.to(this.elements.close, {
      opacity: 0,
      duration: 0.001
    }, 'hide');
    this.tl.to(this.elements.prev, {
      opacity: 0,
      duration: 0.001
    }, 'hide');
    this.tl.to(this.elements.next, {
      opacity: 0,
      duration: 0.001
    }, 'hide');

    // Remove image parameter from URL
    const newUrl = new URL(window.location);
    newUrl.searchParams.delete("media");
    window.history.pushState({}, "", newUrl);
  }
  goToMedia(index) {
    if (index < 0 || index >= this.media.length || index === this.currentIndex) return;
    this.currentIndex = index;
    this.displayIndex();
    if (this.tl.isActive()) {
      this.tl.add(() => {
        this.showMedia();
      });
    } else {
      this.showMedia();
    }
  }
  changeMedia(direction) {
    const oldIndex = this.currentIndex;
    this.currentIndex = (this.currentIndex + direction + this.media.length) % this.media.length;
    this.displayIndex();
    if (oldIndex === this.currentIndex) return;
    if (this.tl.isActive()) {
      this.tl.add(() => {
        this.showMedia();
      });
    } else {
      this.showMedia();
    }
  }
  showMedia() {
    const mediaCurrentElem = this.media[this.currentIndex];
    const mediaType = mediaCurrentElem.dataset.galleryItem;
    const mediaId = mediaCurrentElem.dataset.galleryId;
    this.updateMinimapIndicator(mediaId);

    // If the same media, don't do anything
    if (this.elements.slideShowContainer.querySelector(`[data-slideshow-id="${mediaId}"]`)) {
      return;
    }
    if (!this.hasMediaBeenSet) {
      this.createAndSetMediaElement(mediaCurrentElem, mediaType);
      this.hasMediaBeenSet = true;
    } else {
      this.swapMediaElement(mediaCurrentElem, mediaType);
    }

    // Update the URL with the new image ID
    const newUrl = new URL(window.location);
    newUrl.searchParams.set("media", mediaId);
    window.history.pushState({}, "", newUrl);
  }
  createAndSetMediaElement(mediaElem, mediaType) {
    const newElem = this.createNewMediaItem(mediaType);
    this.setMediaAttributes(newElem, mediaElem, mediaType);
    this.elements.slideShowContainer.innerHTML = ''; // Clear previous elements
    this.elements.slideShowContainer.appendChild(newElem);
    gsap__WEBPACK_IMPORTED_MODULE_2__["default"].fromTo(newElem, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"
    }, {
      clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
      duration: 0.6,
      ease: "power2.out"
    });
  }
  displayIndex() {
    this.elements.slideShowCounter.innerHTML = String(this.currentIndex + 1).padStart(2, '0');
  }
  swapMediaElement(mediaElem, mediaType) {
    const oldElem = this.elements.slideShowContainer.firstChild;
    const newElem = this.createNewMediaItem(mediaType);
    this.setMediaAttributes(newElem, mediaElem, mediaType);
    this.elements.slideShowContainer.appendChild(newElem);
    this.tl.fromTo(newElem, {
      opacity: 0
    }, {
      opacity: 1,
      duration: 0.4,
      ease: "power2.out"
    });
    this.tl.to(oldElem, {
      opacity: 0,
      duration: 0.4,
      ease: "power2.out",
      onComplete: () => {
        oldElem.remove();
      }
    }, "-=0.2");
  }
  setupScrollNavigation() {
    let ticking = false;
    window.addEventListener('wheel', e => {
      if (!this.allowSlideNavigation || ticking) return;
      ticking = true;
      const direction = e.deltaY > 0 ? 1 : -1;
      this.changeMedia(direction);
      setTimeout(() => {
        ticking = false;
      }, 600); // delay to prevent overscroll
    });
  }
  setupSwipeNavigation() {
    if (!this.elements.slideShowContainer) return;
    let touchStartX = 0;
    let touchEndX = 0;
    const threshold = 50; // Minimum swipe distance

    const container = this.elements.slideShowContainer;
    container.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    });
    container.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });
    const handleSwipe = () => {
      if (!this.allowSlideNavigation) return;
      const delta = touchStartX - touchEndX;
      if (Math.abs(delta) > threshold) {
        const direction = delta > 0 ? 1 : -1;
        this.changeMedia(direction);
      }
    };
  }
  disableSlideNavigation() {
    this.allowSlideNavigation = false;
  }
  enableSlideNavigation() {
    this.allowSlideNavigation = true;
  }
  createNewMediaItem(type) {
    const elem = type === "video" ? document.createElement('video') : document.createElement('img');
    elem.classList.add('slideshow-media__item');
    return elem;
  }
  setMediaAttributes(elem, mediaElem, mediaType) {
    const mediaId = mediaElem.dataset.galleryId;
    const posterImg = mediaElem.src;
    elem.setAttribute('data-slideshow-id', mediaId);
    if (mediaType === "video") {
      elem.setAttribute('autoplay', '');
      elem.setAttribute('loop', '');
      elem.setAttribute('playsinline', '');
      elem.setAttribute('controls', '');
      elem.setAttribute('poster', posterImg);
      const source = document.createElement('source');
      source.src = mediaElem.dataset.gallerySrc;
      source.type = "video/mp4";
      elem.appendChild(source);
    } else {
      elem.src = mediaElem.dataset.gallerySrc;
      elem.alt = mediaElem.alt || "Gallery Image";
    }
  }
  updateMinimapIndicator(mediaId = this.media[this.currentIndex]?.dataset.galleryId, instant = false) {
    if (!mediaId) return;
    let miniMapRect = this.elements.miniMap.getBoundingClientRect();
    this.elements.miniMapItems.forEach((item, i) => {
      if (item.dataset.galleryId === mediaId) {
        let itemRect = item.getBoundingClientRect();
        const targetX = -item.offsetLeft;
        const indicatorXpos = itemRect.left - miniMapRect.left;
        if (instant) {
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].set(this.elements.miniMapIndicator, {
            x: indicatorXpos
          });
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].set(this.elements.miniMap, {
            x: targetX
          });
        } else {
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.miniMapIndicator, {
            x: indicatorXpos,
            duration: 0.4,
            ease: "zoom"
          });
          gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.miniMap, {
            x: targetX,
            duration: 0.4,
            ease: "power3.out"
          });
        }
      }
    });
  }

  // Check URL on Page Load & Open Slideshow if Needed
  checkURLForSlideShow() {
    window.addEventListener("DOMContentLoaded", () => {
      const urlParams = new URLSearchParams(window.location.search);
      const mediaId = urlParams.get("media");
      if (mediaId) {
        const mediaElement = document.querySelector(`[data-gallery-id="${mediaId}"]`);
        if (mediaElement) this.openSlideShow({
          target: mediaElement
        });
      }
    });
  }
  animateImages(useStrollTrigger, show = true) {
    let clipPathPoly = show ? "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)" : "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)";
    if (useStrollTrigger) {
      gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.galleryItems, {
        clipPath: clipPathPoly,
        duration: 0.6,
        scrollTrigger: {
          trigger: this.elements.galleryItems,
          start: 'top bottom',
          scrub: false,
          markers: false
        },
        ease: "zoom"
      });
    } else {
      gsap__WEBPACK_IMPORTED_MODULE_2__["default"].to(this.elements.galleryItems, {
        clipPath: clipPathPoly,
        duration: 0.6,
        ease: "zoom"
      });
    }
  }
  animateAssets(tl, resolve) {
    super.animateAssets(tl, () => {
      this.animateImages(true);
      resolve();
    });
  }
  handleResize = () => {
    this.updateMinimapIndicator();
  };

  // Debounce helper (avoids spamming during resize)
  debounce(fn, delay = 100) {
    let timeout;
    return () => {
      clearTimeout(timeout);
      timeout = setTimeout(fn, delay);
    };
  }
  addEventListeners() {
    if (!this.elements.galleryItems || !this.elements.close) return;
    gsap__WEBPACK_IMPORTED_MODULE_2__["default"].set(this.elements.galleryItems, {
      clipPath: "polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"
    });
    if (Array.isArray(this.elements.galleryItems) || typeof this.elements.galleryItems === 'object') {
      this.media = Array.from(this.elements.galleryItems);
      this.elements.galleryItems.forEach(element => {
        element.addEventListener('click', e => {
          this.openSlideShow(e);
        });
      });
    } else {
      this.elements.galleryItems.addEventListener('click', e => {
        this.openSlideShow(e);
      });
    }
    if (this.elements.prev) {
      this.elements.prev.addEventListener('click', () => {
        this.changeMedia(-1);
      });
    }
    if (this.elements.next) {
      this.elements.next.addEventListener('click', () => {
        this.changeMedia(1);
      });
    }
    this.elements.close.addEventListener('click', () => {
      this.closeSlideShow();
    });
    if (this.elements.miniMapItems) {
      this.elements.miniMapItems.forEach((elem, i) => {
        elem.addEventListener('click', () => {
          if (!this.allowSlideNavigation) return;
          this.goToMedia(i);
        });
      });
    }
    window.addEventListener('resize', this.debounce(this.handleResize));
  }
  init() {
    this.addEventListeners();
    this.checkURLForSlideShow();
    this.setupSwipeNavigation();
    this.setupScrollNavigation();
  }
}

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("d6d7bb7340947e63131b")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5iZGU0YmIyYWJkZjBlNGMwYWNjNS5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQ1I7QUFDbUI7QUFDRTtBQUU3QixNQUFNSSxPQUFPLFNBQVNKLG9EQUFJLENBQUM7RUFDeENLLFdBQVdBLENBQUEsRUFBRztJQUNaLEtBQUssQ0FBQztNQUNKQyxFQUFFLEVBQUUsU0FBUztNQUNiQyxRQUFRLEVBQUU7UUFDUkMsT0FBTyxFQUFFLGdCQUFnQjtRQUN6QkMsWUFBWSxFQUFFLHFCQUFxQjtRQUNuQ0MsU0FBUyxFQUFFLGtCQUFrQjtRQUM3QkMsSUFBSSxFQUFFLHVCQUF1QjtRQUM3QkMsSUFBSSxFQUFFLHVCQUF1QjtRQUM3QkMsS0FBSyxFQUFFLCtCQUErQjtRQUN0Q0Msa0JBQWtCLEVBQUUsNEJBQTRCO1FBQ2hEQyxnQkFBZ0IsRUFBRSx3QkFBd0I7UUFDMUNDLE9BQU8sRUFBRSxpQkFBaUI7UUFDMUJDLFlBQVksRUFBRSxzQkFBc0I7UUFDcENDLGdCQUFnQixFQUFFO01BQ3BCO0lBQ0YsQ0FBQyxDQUFDO0lBRUZqQiw0Q0FBSSxDQUFDa0IsY0FBYyxDQUFDaEIsdURBQVUsQ0FBQztJQUMvQkEsdURBQVUsQ0FBQ2lCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLENBQUM7SUFFN0MsSUFBSSxDQUFDQyxFQUFFLEdBQUdwQiw0Q0FBSSxDQUFDcUIsUUFBUSxDQUFDLENBQUM7SUFDekIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsQ0FBQztJQUNyQixJQUFJLENBQUNDLEtBQUssR0FBRyxFQUFFO0lBQ2YsSUFBSSxDQUFDdEIsTUFBTSxHQUFHQSxxREFBTTtJQUNwQixJQUFJLENBQUN1QixlQUFlLEdBQUcsS0FBSztJQUU1QixJQUFJLENBQUNDLG9CQUFvQixHQUFHLEtBQUs7SUFFakMsSUFBSSxDQUFDQyxJQUFJLENBQUMsQ0FBQztFQUNiO0VBRUFDLGFBQWFBLENBQUNDLENBQUMsRUFBRTtJQUNmLE1BQU1DLFlB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QVEsQ0FBQyxJQUFJLENBQUNELFlBQVksQ0FBQyxDQUFDO0VBQ3JFO0VBRUFsSCxJQUFJQSxDQUFBLEVBQUc7SUFDTCxJQUFJLENBQUN3SCxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3hCLElBQUksQ0FBQ3BCLG9CQUFvQixDQUFDLENBQUM7SUFDM0IsSUFBSSxDQUFDaEMsb0JBQW9CLENBQUMsQ0FBQztJQUMzQixJQUFJLENBQUNMLHFCQUFxQixDQUFDLENBQUM7RUFDOUI7QUFDRixDOzs7Ozs7OztVQ3BhQSxzRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Jvb20xODcvLi9hcHAvcGFnZXMvR2FsbGVyeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9yb29tMTg3L3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGFnZSBmcm9tICdjbGFzc2VzL1BhZ2UnXG5pbXBvcnQgZ3NhcCBmcm9tICdnc2FwJ1xuaW1wb3J0IHsgc2Nyb2xsIH0gZnJvbSAndXRpbHMvTGVuaXNTY3JvbGwnXG5pbXBvcnQgeyBDdXN0b21FYXNlIH0gZnJvbSAnZ3NhcC9DdXN0b21FYXNlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYWxsZXJ5IGV4dGVuZHMgUGFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGlkOiAnZ2FsbGVyeScsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICBnYWxsZXJ5OiAnW2RhdGEtZ2FsbGVyeV0nLFxuICAgICAgICBnYWxsZXJ5SXRlbXM6ICdbZGF0YS1nYWxsZXJ5LWl0ZW1dJyxcbiAgICAgICAgc2xpZGVTaG93OiAnW2RhdGEtc2xpZGVzaG93XScsXG4gICAgICAgIHByZXY6ICdbZGF0YS1zbGlkZXNob3ctcHJldl0nLFxuICAgICAgICBuZXh0OiAnW2RhdGEtc2xpZGVzaG93LW5leHRdJyxcbiAgICAgICAgY2xvc2U6ICdbZGF0YS1zbGlkZXNob3ddIFtkYXRhLWNsb3NlXScsXG4gICAgICAgIHNsaWRlU2hvd0NvbnRhaW5lcjogJ1tkYXRhLXNsaWRlc2hvdy1jb250YWluZXJdJyxcbiAgICAgICAgc2xpZGVTaG93Q291bnRlcjogJ1tkYXRhLXNsaWRlc2hvdy1pbmRleF0nLFxuICAgICAgICBtaW5pTWFwOiAnW2RhdGEtbWluaS1tYXBdJyxcbiAgICAgICAgbWluaU1hcEl0ZW1zOiAnW2RhdGEtbWluaS1tYXAtaXRlbV0nLFxuICAgICAgICBtaW5pTWFwSW5kaWNhdG9yOiAnW2RhdGEtbWluaS1tYXAtaW5kaWNhdG9yXSdcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZ3NhcC5yZWdpc3RlclBsdWdpbihDdXN0b21FYXNlKVxuICAgIEN1c3RvbUVhc2UuY3JlYXRlKFwiem9vbVwiLCBcIjAuNzEsIDAsIDAuMDYsIDFcIilcblxuICAgIHRoaXMudGwgPSBnc2FwLnRpbWVsaW5lKClcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDBcbiAgICB0aGlzLm1lZGlhID0gW11cbiAgICB0aGlzLnNjcm9sbCA9IHNjcm9sbFxuICAgIHRoaXMuaGFzTWVkaWFCZWVuU2V0ID0gZmFsc2VcblxuICAgIHRoaXMuYWxsb3dTbGlkZU5hdmlnYXRpb24gPSBmYWxzZVxuICAgIFxuICAgIHRoaXMuaW5pdCgpXG4gIH1cblxuICBvcGVuU2xpZGVTaG93KGUpIHtcbiAgICBjb25zdCBtZWRpYUVsZW1lbnQgPSBlLnRhcmdldDtcbiAgICBjb25zdCBtZWRpYUlkID0gbWVkaWFFbGVtZW50LmRhdGFzZXQuZ2FsbGVyeUlkO1xuXG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSB0aGlzLm1lZGlhLmZpbmRJbmRleChtZWRpYSA9PiBtZWRpYS5kYXRhc2V0LmdhbGxlcnlJZCA9PT0gbWVkaWFJZClcbiAgICB0aGlzLmRpc3BsYXlJbmRleCgpXG4gICAgdGhpcy5zY3JvbGwuc3RvcCgpXG4gICAgdGhpcy50bC5jbGVhcigpXG5cbiAgICB0aGlzLnVwZGF0ZU1pbmltYXBJbmRpY2F0b3IobWVkaWFJZCwgdHJ1ZSk7XG5cbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMuZ2FsbGVyeUl0ZW1zLCB7IFxuICAgICAgY2xpcFBhdGg6IFwicG9seWdvbigwJSAxMDAlLCAxMDAlIDEwMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIiwgXG4gICAgICBkdXJhdGlvbjogMC40LFxuICAgICAgZWFzZTogXCJ6b29tXCJcbiAgICB9KVxuXG4gICAgdGhpcy50bC50byh0aGlzLmVsZW1lbnRzLnNsaWRlU2hvdywge1xuICAgICAgY2xpcFBhdGg6IFwicG9seWdvbigwJSAwJSwgMTAwJSAwJSwgMTAwJSAxMDAlLCAwJSAxMDAlKVwiLFxuICAgICAgZHVyYXRpb246IDAuNixcbiAgICAgIGVhc2U6IFwiem9vbVwiLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvdy5jbGFzc0xpc3QucmVtb3ZlKCdjYW5ub3QtaW50ZXJhY3QnKVxuICAgICAgICB0aGlzLnNob3dNZWRpYSgpXG4gICAgICAgIHRoaXMuZW5hYmxlU2xpZGVOYXZpZ2F0aW9uKClcbiAgICAgIH1cbiAgICB9LCAnLT0wLjInKVxuXG4gICAgdGhpcy50bC50byh0aGlzLmVsZW1lbnRzLmNsb3NlLCB7IG9wYWNpdHk6IDEsIGR1cmF0aW9uOiAwLjMsIGVhc2U6IFwicG93ZXIyLm91dFwiIH0pXG4gICAgdGhpcy50bC50byh0aGlzLmVsZW1lbnRzLnByZXYsIHsgb3BhY2l0eTogMSwgZHVyYXRpb246IDAuMywgZWFzZTogXCJwb3dlcjIub3V0XCIgfSwgJ2NvbnRyb2xzJylcbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMubmV4dCwgeyBvcGFjaXR5OiAxLCBkdXJhdGlvbjogMC4zLCBlYXNlOiBcInBvd2VyMi5vdXRcIiB9LCAnY29udHJvbHMnKVxuICB9XG5cbiAgY2xvc2VTbGlkZVNob3coKSB7XG4gICAgdGhpcy5kaXNhYmxlU2xpZGVOYXZpZ2F0aW9uKClcbiAgICBsZXQgc2xpZGVTaG93TWVkaWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzaG93LW1lZGlhX19pdGVtJylcbiAgICB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvdy5jbGFzc0xpc3QuYWRkKCdjYW5ub3QtaW50ZXJhY3QnKVxuXG4gICAgdGhpcy50bC50byh0aGlzLmVsZW1lbnRzLnNsaWRlU2hvdywge1xuICAgICAgY2xpcFBhdGg6IFwicG9seWdvbigwJSAxMDAlLCAxMDAlIDEwMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIixcbiAgICAgIGR1cmF0aW9uOiAwLjYsXG4gICAgICBlYXNlOiBcInpvb21cIixcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgc2xpZGVTaG93TWVkaWEucmVtb3ZlKClcbiAgICAgICAgdGhpcy5oYXNNZWRpYUJlZW5TZXQgPSBmYWxzZVxuICAgICAgICB0aGlzLnNjcm9sbC5zdGFydCgpXG4gICAgICAgIHRoaXMuYW5pbWF0ZUltYWdlcyhmYWxzZSwgdHJ1ZSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy50bC50byh0aGlzLmVsZW1lbnRzLmNsb3NlLCB7IG9wYWNpdHk6IDAsIGR1cmF0aW9uOiAwLjAwMSB9LCAnaGlkZScpXG4gICAgdGhpcy50bC50byh0aGlzLmVsZW1lbnRzLnByZXYsIHsgb3BhY2l0eTogMCwgZHVyYXRpb246IDAuMDAxIH0sICdoaWRlJylcbiAgICB0aGlzLnRsLnRvKHRoaXMuZWxlbWVudHMubmV4dCwgeyBvcGFjaXR5OiAwLCBkdXJhdGlvbjogMC4wMDEgfSwgJ2hpZGUnKVxuICAgIFxuICAgIC8vIFJlbW92ZSBpbWFnZSBwYXJhbWV0ZXIgZnJvbSBVUkxcbiAgICBjb25zdCBuZXdVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XG4gICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoXCJtZWRpYVwiKTtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIG5ld1VybCk7XG4gIH1cbiAgXG4gIGdvVG9NZWRpYShpbmRleCkge1xuICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5tZWRpYS5sZW5ndGggfHwgaW5kZXggPT09IHRoaXMuY3VycmVudEluZGV4KSByZXR1cm47XG4gICAgXG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICB0aGlzLmRpc3BsYXlJbmRleCgpO1xuXG4gICAgaWYgKHRoaXMudGwuaXNBY3RpdmUoKSkge1xuICAgICAgdGhpcy50bC5hZGQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3dNZWRpYSgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd01lZGlhKCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlTWVkaWEoZGlyZWN0aW9uKSB7XG4gICAgY29uc3Qgb2xkSW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleFxuICAgIHRoaXMuY3VycmVudEluZGV4ID0gKHRoaXMuY3VycmVudEluZGV4ICsgZGlyZWN0aW9uICsgdGhpcy5tZWRpYS5sZW5ndGgpICUgdGhpcy5tZWRpYS5sZW5ndGhcbiAgICB0aGlzLmRpc3BsYXlJbmRleCgpXG4gICAgaWYgKG9sZEluZGV4ID09PSB0aGlzLmN1cnJlbnRJbmRleCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy50bC5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLnRsLmFkZCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd01lZGlhKCk7XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3dNZWRpYSgpO1xuICAgIH1cbiAgfVxuXG4gIHNob3dNZWRpYSgpIHtcbiAgICBjb25zdCBtZWRpYUN1cnJlbnRFbGVtID0gdGhpcy5tZWRpYVt0aGlzLmN1cnJlbnRJbmRleF1cbiAgICBjb25zdCBtZWRpYVR5cGUgPSBtZWRpYUN1cnJlbnRFbGVtLmRhdGFzZXQuZ2FsbGVyeUl0ZW1cbiAgICBjb25zdCBtZWRpYUlkID0gbWVkaWFDdXJyZW50RWxlbS5kYXRhc2V0LmdhbGxlcnlJZDtcbiAgICBcbiAgICB0aGlzLnVwZGF0ZU1pbmltYXBJbmRpY2F0b3IobWVkaWFJZClcblxuICAgIC8vIElmIHRoZSBzYW1lIG1lZGlhLCBkb24ndCBkbyBhbnl0aGluZ1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLnNsaWRlU2hvd0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zbGlkZXNob3ctaWQ9XCIke21lZGlhSWR9XCJdYCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGFzTWVkaWFCZWVuU2V0KSB7XG4gICAgICB0aGlzLmNyZWF0ZUFuZFNldE1lZGlhRWxlbWVudChtZWRpYUN1cnJlbnRFbGVtLCBtZWRpYVR5cGUpXG4gICAgICB0aGlzLmhhc01lZGlhQmVlblNldCA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zd2FwTWVkaWFFbGVtZW50KG1lZGlhQ3VycmVudEVsZW0sIG1lZGlhVHlwZSlcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIFVSTCB3aXRoIHRoZSBuZXcgaW1hZ2UgSURcbiAgICBjb25zdCBuZXdVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbilcbiAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldChcIm1lZGlhXCIsIG1lZGlhSWQpXG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCBcIlwiLCBuZXdVcmwpXG4gIH1cblxuICBjcmVhdGVBbmRTZXRNZWRpYUVsZW1lbnQobWVkaWFFbGVtLCBtZWRpYVR5cGUpIHtcbiAgICBjb25zdCBuZXdFbGVtID0gdGhpcy5jcmVhdGVOZXdNZWRpYUl0ZW0obWVkaWFUeXBlKVxuICAgIHRoaXMuc2V0TWVkaWFBdHRyaWJ1dGVzKG5ld0VsZW0sIG1lZGlhRWxlbSwgbWVkaWFUeXBlKVxuXG4gICAgdGhpcy5lbGVtZW50cy5zbGlkZVNob3dDb250YWluZXIuaW5uZXJIVE1MID0gJycgLy8gQ2xlYXIgcHJldmlvdXMgZWxlbWVudHNcbiAgICB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvd0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdFbGVtKVxuXG5cbiAgICBnc2FwLmZyb21UbyhuZXdFbGVtLCB7IGNsaXBQYXRoOiBcInBvbHlnb24oMCUgMTAwJSwgMTAwJSAxMDAlLCAxMDAlIDEwMCUsIDAlIDEwMCUpXCIgfSwgeyBjbGlwUGF0aDogXCJwb2x5Z29uKDAlIDAlLCAxMDAlIDAlLCAxMDAlIDEwMCUsIDAlIDEwMCUpXCIsIGR1cmF0aW9uOiAwLjYsIGVhc2U6IFwicG93ZXIyLm91dFwiIH0pXG4gIH1cblxuICBkaXNwbGF5SW5kZXgoKSB7XG4gICAgdGhpcy5lbGVtZW50cy5zbGlkZVNob3dDb3VudGVyLmlubmVySFRNTCA9IFN0cmluZyh0aGlzLmN1cnJlbnRJbmRleCArIDEpLnBhZFN0YXJ0KDIsICcwJylcbiAgfVxuXG4gIHN3YXBNZWRpYUVsZW1lbnQobWVkaWFFbGVtLCBtZWRpYVR5cGUpIHtcbiAgICBjb25zdCBvbGRFbGVtID0gdGhpcy5lbGVtZW50cy5zbGlkZVNob3dDb250YWluZXIuZmlyc3RDaGlsZFxuICAgIGNvbnN0IG5ld0VsZW0gPSB0aGlzLmNyZWF0ZU5ld01lZGlhSXRlbShtZWRpYVR5cGUpXG4gICAgdGhpcy5zZXRNZWRpYUF0dHJpYnV0ZXMobmV3RWxlbSwgbWVkaWFFbGVtLCBtZWRpYVR5cGUpXG5cbiAgICB0aGlzLmVsZW1lbnRzLnNsaWRlU2hvd0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdFbGVtKVxuICAgIFxuICAgIHRoaXMudGwuZnJvbVRvKG5ld0VsZW0sIHsgb3BhY2l0eTogMCB9LCB7IG9wYWNpdHk6IDEsIGR1cmF0aW9uOiAwLjQsIGVhc2U6IFwicG93ZXIyLm91dFwiIH0pXG4gICAgXG4gICAgdGhpcy50bC50byhvbGRFbGVtLCB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgZHVyYXRpb246IDAuNCxcbiAgICAgIGVhc2U6IFwicG93ZXIyLm91dFwiLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICBvbGRFbGVtLnJlbW92ZSgpXG4gICAgICB9XG4gICAgfSwgXCItPTAuMlwiKVxuICB9XG5cbiAgc2V0dXBTY3JvbGxOYXZpZ2F0aW9uKCkge1xuICAgIGxldCB0aWNraW5nID0gZmFsc2U7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCAoZSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmFsbG93U2xpZGVOYXZpZ2F0aW9uIHx8IHRpY2tpbmcpIHJldHVybjtcblxuICAgICAgdGlja2luZyA9IHRydWU7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBlLmRlbHRhWSA+IDAgPyAxIDogLTE7XG5cbiAgICAgIHRoaXMuY2hhbmdlTWVkaWEoZGlyZWN0aW9uKTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgIH0sIDYwMCk7IC8vIGRlbGF5IHRvIHByZXZlbnQgb3ZlcnNjcm9sbFxuICAgIH0pO1xuICB9XG5cbiAgc2V0dXBTd2lwZU5hdmlnYXRpb24oKSB7XG4gICAgaWYoIXRoaXMuZWxlbWVudHMuc2xpZGVTaG93Q29udGFpbmVyKSByZXR1cm5cblxuICAgIGxldCB0b3VjaFN0YXJ0WCA9IDA7XG4gICAgbGV0IHRvdWNoRW5kWCA9IDA7XG5cbiAgICBjb25zdCB0aHJlc2hvbGQgPSA1MDsgLy8gTWluaW11bSBzd2lwZSBkaXN0YW5jZVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5lbGVtZW50cy5zbGlkZVNob3dDb250YWluZXI7XG4gICAgXG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgdG91Y2hTdGFydFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XG4gICAgfSk7XG5cbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZSkgPT4ge1xuICAgICAgdG91Y2hFbmRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5zY3JlZW5YO1xuICAgICAgaGFuZGxlU3dpcGUoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZVN3aXBlID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmFsbG93U2xpZGVOYXZpZ2F0aW9uKSByZXR1cm47XG4gICAgICBjb25zdCBkZWx0YSA9IHRvdWNoU3RhcnRYIC0gdG91Y2hFbmRYO1xuICAgICAgXG4gICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gdGhyZXNob2xkKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGRlbHRhID4gMCA/IDEgOiAtMTtcbiAgICAgICAgdGhpcy5jaGFuZ2VNZWRpYShkaXJlY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBkaXNhYmxlU2xpZGVOYXZpZ2F0aW9uKCkge1xuICAgIHRoaXMuYWxsb3dTbGlkZU5hdmlnYXRpb24gPSBmYWxzZTtcbiAgfVxuXG4gIGVuYWJsZVNsaWRlTmF2aWdhdGlvbigpIHtcbiAgICB0aGlzLmFsbG93U2xpZGVOYXZpZ2F0aW9uID0gdHJ1ZTtcbiAgfVxuXG4gIGNyZWF0ZU5ld01lZGlhSXRlbSh0eXBlKSB7XG4gICAgY29uc3QgZWxlbSA9IHR5cGUgPT09IFwidmlkZW9cIiA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVzaG93LW1lZGlhX19pdGVtJylcbiAgICByZXR1cm4gZWxlbVxuICB9XG5cbiAgc2V0TWVkaWFBdHRyaWJ1dGVzKGVsZW0sIG1lZGlhRWxlbSwgbWVkaWFUeXBlKSB7XG4gICAgY29uc3QgbWVkaWFJZCA9IG1lZGlhRWxlbS5kYXRhc2V0LmdhbGxlcnlJZFxuICAgIGNvbnN0IHBvc3RlckltZyA9IG1lZGlhRWxlbS5zcmNcblxuICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlc2hvdy1pZCcsIG1lZGlhSWQpXG5cbiAgICBpZiAobWVkaWFUeXBlID09PSBcInZpZGVvXCIpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdhdXRvcGxheScsICcnKVxuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2xvb3AnLCAnJylcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKVxuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2NvbnRyb2xzJywgJycpXG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgncG9zdGVyJywgcG9zdGVySW1nKVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKVxuICAgICAgc291cmNlLnNyYyA9IG1lZGlhRWxlbS5kYXRhc2V0LmdhbGxlcnlTcmNcbiAgICAgIHNvdXJjZS50eXBlID0gXCJ2aWRlby9tcDRcIlxuICAgICAgZWxlbS5hcHBlbmRDaGlsZChzb3VyY2UpXG5cbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zcmMgPSBtZWRpYUVsZW0uZGF0YXNldC5nYWxsZXJ5U3JjXG4gICAgICBlbGVtLmFsdCA9IG1lZGlhRWxlbS5hbHQgfHwgXCJHYWxsZXJ5IEltYWdlXCJcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNaW5pbWFwSW5kaWNhdG9yKG1lZGlhSWQgPSB0aGlzLm1lZGlhW3RoaXMuY3VycmVudEluZGV4XT8uZGF0YXNldC5nYWxsZXJ5SWQsIGluc3RhbnQgPSBmYWxzZSkge1xuICAgIGlmICghbWVkaWFJZCkgcmV0dXJuXG4gICAgbGV0IG1pbmlNYXBSZWN0ID0gdGhpcy5lbGVtZW50cy5taW5pTWFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cbiAgICB0aGlzLmVsZW1lbnRzLm1pbmlNYXBJdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICBpZiAoaXRlbS5kYXRhc2V0LmdhbGxlcnlJZCA9PT0gbWVkaWFJZCkge1xuICAgICAgICBsZXQgaXRlbVJlY3QgPSBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIFxuICAgICAgICBjb25zdCB0YXJnZXRYID0gLWl0ZW0ub2Zmc2V0TGVmdFxuICAgICAgICBjb25zdCBpbmRpY2F0b3JYcG9zID0gaXRlbVJlY3QubGVmdCAtIG1pbmlNYXBSZWN0LmxlZnRcblxuICAgICAgICBpZiAoaW5zdGFudCkge1xuICAgICAgICAgIGdzYXAuc2V0KHRoaXMuZWxlbWVudHMubWluaU1hcEluZGljYXRvciwge3g6IGluZGljYXRvclhwb3N9KVxuICAgICAgICAgIGdzYXAuc2V0KHRoaXMuZWxlbWVudHMubWluaU1hcCwgeyB4OiB0YXJnZXRYIH0pXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnc2FwLnRvKHRoaXMuZWxlbWVudHMubWluaU1hcEluZGljYXRvciwge1xuICAgICAgICAgICAgeDogaW5kaWNhdG9yWHBvcyxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLjQsXG4gICAgICAgICAgICBlYXNlOiBcInpvb21cIlxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBnc2FwLnRvKHRoaXMuZWxlbWVudHMubWluaU1hcCwge1xuICAgICAgICAgICAgeDogdGFyZ2V0WCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLjQsXG4gICAgICAgICAgICBlYXNlOiBcInBvd2VyMy5vdXRcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIENoZWNrIFVSTCBvbiBQYWdlIExvYWQgJiBPcGVuIFNsaWRlc2hvdyBpZiBOZWVkZWRcbiAgY2hlY2tVUkxGb3JTbGlkZVNob3coKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICBjb25zdCBtZWRpYUlkID0gdXJsUGFyYW1zLmdldChcIm1lZGlhXCIpO1xuICBcbiAgICAgIGlmIChtZWRpYUlkKSB7XG4gICAgICAgIGNvbnN0IG1lZGlhRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWdhbGxlcnktaWQ9XCIke21lZGlhSWR9XCJdYCk7XG4gICAgICAgIGlmIChtZWRpYUVsZW1lbnQpIHRoaXMub3BlblNsaWRlU2hvdyh7IHRhcmdldDogbWVkaWFFbGVtZW50IH0pO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgXG4gIGFuaW1hdGVJbWFnZXModXNlU3Ryb2xsVHJpZ2dlciwgc2hvdyA9IHRydWUpIHtcbiAgICBsZXQgY2xpcFBhdGhQb2x5ID0gc2hvdz8gXCJwb2x5Z29uKDAlIDAlLCAxMDAlIDAlLCAxMDAlIDEwMCUsIDAlIDEwMCUpXCIgOiBcInBvbHlnb24oMCUgMTAwJSwgMTAwJSAxMDAlLCAxMDAlIDEwMCUsIDAlIDEwMCUpXCIgXG5cbiAgICBpZih1c2VTdHJvbGxUcmlnZ2VyKSB7XG4gICAgICBnc2FwLnRvKHRoaXMuZWxlbWVudHMuZ2FsbGVyeUl0ZW1zLFxuICAgICAgICB7XG4gICAgICAgICAgY2xpcFBhdGg6IGNsaXBQYXRoUG9seSxcbiAgICAgICAgICBkdXJhdGlvbjogMC42LFxuICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMuZWxlbWVudHMuZ2FsbGVyeUl0ZW1zLFxuICAgICAgICAgICAgc3RhcnQ6ICd0b3AgYm90dG9tJyxcbiAgICAgICAgICAgIHNjcnViOiBmYWxzZSxcbiAgICAgICAgICAgIG1hcmtlcnM6IGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlYXNlOiBcInpvb21cIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZ3NhcC50byh0aGlzLmVsZW1lbnRzLmdhbGxlcnlJdGVtcyxcbiAgICAgICAge1xuICAgICAgICAgIGNsaXBQYXRoOiBjbGlwUGF0aFBvbHksXG4gICAgICAgICAgZHVyYXRpb246IDAuNixcbiAgICAgICAgICBlYXNlOiBcInpvb21cIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgYW5pbWF0ZUFzc2V0cyh0bCwgcmVzb2x2ZSkge1xuICAgIHN1cGVyLmFuaW1hdGVBc3NldHModGwsICgpID0+IHtcbiAgICAgIHRoaXMuYW5pbWF0ZUltYWdlcyh0cnVlKVxuXG4gICAgICByZXNvbHZlKClcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlTWluaW1hcEluZGljYXRvcigpXG4gIH1cblxuICAvLyBEZWJvdW5jZSBoZWxwZXIgKGF2b2lkcyBzcGFtbWluZyBkdXJpbmcgcmVzaXplKVxuICBkZWJvdW5jZShmbiwgZGVsYXkgPSAxMDApIHtcbiAgICBsZXQgdGltZW91dFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZuLCBkZWxheSlcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBpZighdGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMgfHwgIXRoaXMuZWxlbWVudHMuY2xvc2UpIHJldHVyblxuXG4gICAgZ3NhcC5zZXQodGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMsIHsgY2xpcFBhdGg6IFwicG9seWdvbigwJSAxMDAlLCAxMDAlIDEwMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIn0pXG4gICAgXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMpIHx8ICh0eXBlb2YgdGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMgPT09ICdvYmplY3QnKSkge1xuICAgICAgdGhpcy5tZWRpYSA9IEFycmF5LmZyb20odGhpcy5lbGVtZW50cy5nYWxsZXJ5SXRlbXMpXG4gICAgICB0aGlzLmVsZW1lbnRzLmdhbGxlcnlJdGVtcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICB0aGlzLm9wZW5TbGlkZVNob3coZSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuZ2FsbGVyeUl0ZW1zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuU2xpZGVTaG93KGUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKHRoaXMuZWxlbWVudHMucHJldikge1xuICAgICAgdGhpcy5lbGVtZW50cy5wcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNoYW5nZU1lZGlhKC0xKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZih0aGlzLmVsZW1lbnRzLm5leHQpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMubmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGFuZ2VNZWRpYSgxKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRzLmNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZVNsaWRlU2hvdygpXG4gICAgfSlcblxuICAgIGlmKHRoaXMuZWxlbWVudHMubWluaU1hcEl0ZW1zKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLm1pbmlNYXBJdGVtcy5mb3JFYWNoKChlbGVtLCBpKSA9PiB7XG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmFsbG93U2xpZGVOYXZpZ2F0aW9uKSByZXR1cm47XG4gICAgICAgICAgdGhpcy5nb1RvTWVkaWEoaSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2UodGhpcy5oYW5kbGVSZXNpemUpKVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgICB0aGlzLmNoZWNrVVJMRm9yU2xpZGVTaG93KClcbiAgICB0aGlzLnNldHVwU3dpcGVOYXZpZ2F0aW9uKClcbiAgICB0aGlzLnNldHVwU2Nyb2xsTmF2aWdhdGlvbigpXG4gIH1cbn0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJkNmQ3YmI3MzQwOTQ3ZTYzMTMxYlwiKSJdLCJuYW1lcyI6WyJQYWdlIiwiZ3NhcCIsInNjcm9sbCIsIkN1c3RvbUVhc2UiLCJHYWxsZXJ5IiwiY29uc3RydWN0b3IiLCJpZCIsImVsZW1lbnRzIiwiZ2FsbGVyeSIsImdhbGxlcnlJdGVtcyIsInNsaWRlU2hvdyIsInByZXYiLCJuZXh0IiwiY2xvc2UiLCJzbGlkZVNob3dDb250YWluZXIiLCJzbGlkZVNob3dDb3VudGVyIiwibWluaU1hcCIsIm1pbmlNYXBJdGVtcyIsIm1pbmlNYXBJbmRpY2F0b3IiLCJyZWdpc3RlclBsdWdpbiIsImNyZWF0ZSIsInRsIiwidGltZWxpbmUiLCJjdXJyZW50SW5kZXgiLCJtZWRpYSIsImhhc01lZGlhQmVlblNldCIsImFsbG93U2xpZGVOYXZpZ2F0aW9uIiwiaW5pdCIsIm9wZW5TbGlkZVNob3ciLCJlIiwibWVkaWFFbGVtZW50IiwidGFyZ2V0IiwibWVkaWFJZCIsImRhdGFzZXQiLCJnYWxsZXJ5SWQiLCJmaW5kSW5kZXgiLCJkaXNwbGF5SW5kZXgiLCJzdG9wIiwiY2xlYXIiLCJ1cGRhdGVNaW5pbWFwSW5kaWNhdG9yIiwidG8iLCJjbGlwUGF0aCIsImR1cmF0aW9uIiwiZWFzZSIsIm9uQ29tcGxldGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzaG93TWVkaWEiLCJlbmFibGVTbGlkZU5hdmlnYXRpb24iLCJvcGFjaXR5IiwiY2xvc2VTbGlkZVNob3ciLCJkaXNhYmxlU2xpZGVOYXZpZ2F0aW9uIiwic2xpZGVTaG93TWVkaWEiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGQiLCJzdGFydCIsImFuaW1hdGVJbWFnZXMiLCJuZXdVcmwiLCJVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaFBhcmFtcyIsImRlbGV0ZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJnb1RvTWVkaWEiLCJpbmRleCIsImxlbmd0aCIsImlzQWN0aXZlIiwiY2hhbmdlTWVkaWEiLCJkaXJlY3Rpb24iLCJvbGRJbmRleCIsIm1lZGlhQ3VycmVudEVsZW0iLCJtZWRpYVR5cGUiLCJnYWxsZXJ5SXRlbSIsImNyZWF0ZUFuZFNldE1lZGlhRWxlbWVudCIsInN3YXBNZWRpYUVsZW1lbnQiLCJzZXQiLCJtZWRpYUVsZW0iLCJuZXdFbGVtIiwiY3JlYXRlTmV3TWVkaWFJdGVtIiwic2V0TWVkaWFBdHRyaWJ1dGVzIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJmcm9tVG8iLCJTdHJpbmciLCJwYWRTdGFydCIsIm9sZEVsZW0iLCJmaXJzdENoaWxkIiwic2V0dXBTY3JvbGxOYXZpZ2F0aW9uIiwidGlja2luZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWx0YVkiLCJzZXRUaW1lb3V0Iiwic2V0dXBTd2lwZU5hdmlnYXRpb24iLCJ0b3VjaFN0YXJ0WCIsInRvdWNoRW5kWCIsInRocmVzaG9sZCIsImNvbnRhaW5lciIsImNoYW5nZWRUb3VjaGVzIiwic2NyZWVuWCIsImhhbmRsZVN3aXBlIiwiZGVsdGEiLCJNYXRoIiwiYWJzIiwidHlwZSIsImVsZW0iLCJjcmVhdGVFbGVtZW50IiwicG9zdGVySW1nIiwic3JjIiwic2V0QXR0cmlidXRlIiwic291cmNlIiwiZ2FsbGVyeVNyYyIsImFsdCIsImluc3RhbnQiLCJtaW5pTWFwUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZvckVhY2giLCJpdGVtIiwiaSIsIml0ZW1SZWN0IiwidGFyZ2V0WCIsIm9mZnNldExlZnQiLCJpbmRpY2F0b3JYcG9zIiwibGVmdCIsIngiLCJjaGVja1VSTEZvclNsaWRlU2hvdyIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsImdldCIsInVzZVN0cm9sbFRyaWdnZXIiLCJzaG93IiwiY2xpcFBhdGhQb2x5Iiwic2Nyb2xsVHJpZ2dlciIsInRyaWdnZXIiLCJzY3J1YiIsIm1hcmtlcnMiLCJhbmltYXRlQXNzZXRzIiwicmVzb2x2ZSIsImhhbmRsZVJlc2l6ZSIsImRlYm91bmNlIiwiZm4iLCJkZWxheSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiaXNBcnJheSIsImZyb20iLCJlbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==